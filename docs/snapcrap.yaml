version: 'post 1.0.1 git' # just for humans, typically '1.2git' or '1.3.2'
summary: The Network Time Protocol suite, refactored # 79 char long summary
description: |
    Network time syncronization suite forked from NTP classic.

grade: devel # must be 'stable' to release into candidate/stable channels
confinement: devmode # use 'strict' once you have the right plugs and slots

waf-project:
  plugin: waf
  source: .
  configflags:
    - --progress
    - --verbose
    - --enable-doc
    - --refclock=shm,pps
    - --enable-seccomp
    - --enable-debug
    - --enable-debug-gdb
  buildpackages:
    asciidoc
    build-essential
    bison
    libavahi-compat-libdnssd-dev
    libcap2
    libcap-dev
    libseccomp-dev
    libssl1.0.0
    libssl-dev
    libxslt
    pps-tools
    python-dev

apps:
  ntpd:
    command: ntpd
    plugs: [network,network-bind]
  ntpq:
    command: ntpq
    plugs: [network]
  ntpmon:
    command: ntpmon
    plugs: [network]

